<!DOCTYPE html><html lang="en" data-beasties-container><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon.svg"><script>!function(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><style type="text/css">:root{color-scheme:light dark;--va-c-bg:#fff}html{background-color:var(--va-c-bg)}</style><script>const locale=localStorage.getItem("valaxy-locale")||"en";document.documentElement.setAttribute("lang",locale)</script><script type="module" async crossorigin src="/OpenList-Docs/assets/app.CgKpqO4s.js"></script><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/framework.Bz32nx7L.js"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunks/dayjs.BX5x0S-s.js"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunks/nprogress.B1y48mDD.js"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunks/vue-router.BHVBbDd3.js"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunks/vue-i18n.D51u75hK.js"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunks/pinia.Bgqu1Nyu.js"><link rel="stylesheet" crossorigin href="/OpenList-Docs/assets/app.D_kjg8EC.css"><link rel="stylesheet" crossorigin href="/OpenList-Docs/assets/group-icons.u5l6rBQ6.css"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunk.B_Im4V00.js"><link rel="stylesheet" href="/OpenList-Docs/assets/group-icons.u5l6rBQ6.css"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/ValaxyMain.Bu8drCa_.js"><link rel="stylesheet" href="/OpenList-Docs/assets/ValaxyMain.Cny4s0wM.css"><title>Chunk - OpenList Docs</title><script id="check-mac-os" async>document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><meta property="og:locale:alternate" content="zh-CN"><meta name="description" content="Documentation site for OpenList"><meta property="og:description" content="Documentation site for OpenList"><meta property="og:locale" content="en"><meta property="og:site_name" content="OpenList Docs"><meta property="og:title" content="Chunk"><meta property="og:image" content="/favicon.svg"><meta property="og:type" content="website"><meta property="og:url" content="https://dezhishen.github.io/"><link rel="icon" href="/favicon.svg" type="image/svg+xml"><meta name="generator" content="Valaxy 0.25.9"><meta name="twitter:card" content="summary_large_image"></head><body><div id="app" data-server-rendered="true"><!--[--><!--[--><!----><!--[--><!--]--><!----><!--]--><div class="layout antialiased" data-v-e8057d2d><nav w="full" class="press-nav relative md:fixed md:z-99 font-bold"><div class="pr-navbar flex justify-between items-center pl-4 pr-2 has-sidebar"><a href="/OpenList-Docs/" class="text-xl flex justify-center items-center font-black gradient-text from-teal-200 to-sky-400 bg-gradient-to-r" aria-label="$locale:siteConfig.title"><img class="logo" src="OpenList-Docs/logo.svg" alt="LOGO"><span class="inline-flex">OpenList Docs</span></a><div class="self-stretch flex justify-center items-center text-sm leading-5"><div class="VPNavBarSearch" p="x-2"><!----></div><div class="flex lt-md:hidden" h="full" p="x-2"><!--[--><!--[--><a href="/OpenList-Docs/guide" class="router-link-active press-nav-item-link flex justify-center items-center px-2" rel="noopener" data-v-32160185><!--[-->User Guide<!--]--></a><!--]--><!--[--><a href="/OpenList-Docs/configuration" class="press-nav-item-link flex justify-center items-center px-2" rel="noopener" data-v-32160185><!--[-->Configuration<!--]--></a><!--]--><!--[--><a href="/OpenList-Docs/faq" class="press-nav-item-link flex justify-center items-center px-2" rel="noopener" data-v-32160185><!--[-->FAQ<!--]--></a><!--]--><!--[--><a href="/OpenList-Docs/ecosystem" class="press-nav-item-link flex justify-center items-center px-2" rel="noopener" data-v-32160185><!--[-->Ecosystem<!--]--></a><!--]--><!--[--><div class="flex relative group px-2" h="full" aria-expanded="false" aria-haspopup="true" data-v-b7b2ac8b><button type="button" class="button flex items-center bg-transparent" h="full" data-v-b7b2ac8b><span class="text" data-v-b7b2ac8b>Community</span><div i-ri-arrow-drop-down-line data-v-b7b2ac8b></div></button><div class="menu grow" flex="~ col" items="start" data-v-b7b2ac8b><!--[--><!--[--><div class="menu-link w-full" data-v-b7b2ac8b data-v-8b5a856b><a class="menu-item" p="x-3" href="https://github.com/OpenListTeam/OpenList/discussions" target="_blank" data-v-8b5a856b><!--[-->Github Discussions<!--]--><!----></a></div><!--]--><!--[--><div class="menu-link w-full" data-v-b7b2ac8b data-v-8b5a856b><a class="menu-item" p="x-3" href="https://t.me/OpenListTeam" target="_blank" data-v-8b5a856b><!--[-->Telegram<!--]--><!----></a></div><!--]--><!--[--><div class="menu-link w-full" data-v-b7b2ac8b data-v-8b5a856b><a class="menu-item" p="x-3" href="https://t.me/OpenListOfficial" target="_blank" data-v-8b5a856b><!--[-->Telegram Channel<!--]--><!----></a></div><!--]--><!--]--></div></div><!--]--><!--[--><div class="flex relative group px-2" h="full" aria-expanded="false" aria-haspopup="true" data-v-b7b2ac8b><button type="button" class="button flex items-center bg-transparent" h="full" data-v-b7b2ac8b><span class="text" data-v-b7b2ac8b>v4.1.10</span><div i-ri-arrow-drop-down-line data-v-b7b2ac8b></div></button><div class="menu grow" flex="~ col" items="start" data-v-b7b2ac8b><!--[--><!--[--><div class="menu-link w-full" data-v-b7b2ac8b data-v-8b5a856b><a class="menu-item" p="x-3" href="https://github.com/OpenListTeam/OpenList/releases" target="_blank" data-v-8b5a856b><!--[-->Release Notes<!--]--><!----></a></div><!--]--><!--]--></div></div><!--]--><!--]--></div><div class="flex items-center lt-lg:hidden" p="x-2"><button title="Change languages"><div i-ri-translate class="rotate-y-180 transition transform"></div></button></div><div class="inline-flex items-center lt-lg:hidden" p="x-2"><button class="switch switch-appearance" type="button" aria-label="Toggle Dark Mode" data-v-a2d66f27><span class="check" data-v-a2d66f27><span class="icon-wrap" data-v-a2d66f27><div class="icon" i-ri-sun-line data-v-a2d66f27></div></span></span></button></div><div class="pr-social-links pr-nav-bar-social-links" p="x-2" data-v-c9cfc92a data-v-326fa6b8><!--[--><a class="pr-social-link" href="https://github.com/OpenListTeam/OpenList" target="_blank" rel="noopener" data-v-326fa6b8 data-v-23187a05><div class="i-ri-github-line" data-v-23187a05></div></a><!--]--></div><button type="button" class="pr-NavBarHamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="pr-NavScreen" data-v-ac56a236><span class="container" data-v-ac56a236><span class="top" data-v-ac56a236></span><span class="middle" data-v-ac56a236></span><span class="bottom" data-v-ac56a236></span></span></button></div></div><!----></nav><div class="press-local-nav" data-v-00f00fd6><button class="menu" aria-expanded="false" aria-controls="pr-sidebar-nav" data-v-00f00fd6><div i-ri-align-left class="menu-icon" data-v-00f00fd6></div><span class="menu-text" data-v-00f00fd6>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px" data-v-00f00fd6 data-v-2bc5b49f><button data-v-2bc5b49f>Return to top</button><!----></div></div><!--[--><aside class="press-sidebar shadow-lg"><div text="left" m="2"><!--[--><ul class="category-list"><!--[--><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">User Guide <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/guide" class="router-link-active inline-flex items-center"><span class="text ml-1" text="sm">Quick Start</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/guide/migrate" class="inline-flex items-center"><span class="text ml-1" text="sm">Migrate from AList V3</span></a><!--]--></li><li class="post-list-item"><!--[--></li><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Storage Setup <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-add-line></div></button></li><!----><!--]--><li class="post-list-item"><!--[--></li><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Advanced <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-add-line></div></button></li><!----><!--]--><li class="post-list-item"><!--[--></li><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Installation <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-add-line></div></button></li><!----><!--]--><!--]--></ul><!--]--></ul><ul class="category-list"><!--[--><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Configuration <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/configuration" class="inline-flex items-center"><span class="text ml-1" text="sm">Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/site" class="inline-flex items-center"><span class="text ml-1" text="sm">Site Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/style" class="inline-flex items-center"><span class="text ml-1" text="sm">Style Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/preview" class="inline-flex items-center"><span class="text ml-1" text="sm">Preview Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/global" class="inline-flex items-center"><span class="text ml-1" text="sm">Global Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/other" class="inline-flex items-center"><span class="text ml-1" text="sm">Other Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/side" class="inline-flex items-center"><span class="text ml-1" text="sm">Side Configuration</span></a><!--]--></li><!--]--></ul><!--]--></ul><ul class="category-list"><!--[--><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">FAQ <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/faq/error" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Error-Code</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/faq/howto" class="inline-flex items-center"><span class="text ml-1" text="sm">How to</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/faq/seealso" class="inline-flex items-center"><span class="text ml-1" text="sm">See also</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/faq/why" class="inline-flex items-center"><span class="text ml-1" text="sm">Why</span></a><!--]--></li><!--]--></ul><!--]--></ul><ul class="category-list"><!--[--><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">API Documentation <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/api/apidocs" class="inline-flex items-center"><span class="text ml-1" text="sm">API Documentation</span></a><!--]--></li><!--]--></ul><!--]--></ul><ul class="category-list"><!----></ul><ul class="category-list"><!--[--><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Ecosystem <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Ecosystem</span></a><!--]--></li><li class="post-list-item"><!--[--></li><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Official Ecosystem <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem/official_docs" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Docs</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem/official_desktop" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Desktop</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem/official_mobile" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Mobile</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem/official_APIpage" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList APIPages</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem/official_proxy" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Proxy</span></a><!--]--></li><!--]--></ul><!--]--><!--]--></ul><!--]--></ul><!--]--></div></aside><!--]--><!----><!--[--><main class="press-main flex has-sidebar" data-v-e8057d2d data-v-b457700c><div w="full" flex="~" class="px-6 md:pl-12 has-aside relative" p="t-4" data-v-b457700c><div class="container" flex="~ grow" justify="between" data-v-b457700c><!--[--><div w="full" class="vp-doc content" flex="~ col grow" p="lt-md:0" data-v-b457700c><!--[--><!--]--><!--[--><!--]--><!--[--><!--[--><!--]--><article class="markdown-body mx-auto w-full max-w-4xl" data-v-b457700c><!--[--><h1 id="Chunk" tabindex="-1" data-v-b457700c>Chunk <a class="header-anchor" href="#Chunk" aria-hidden="true" data-v-b457700c></a></h1><!--[--><div lang="en"><p>The Chunk is used to split large files into multiple file chunks. Each chunk is stored as an independent file on the backend driver.</p><p>The size of each file chunk can be manually configured by the user. Except for the last chunk of each file—which is smaller than the configured size—all other chunks are always equal to the specified size.</p><p>A chunked file is stored as a folder on the backend driver, containing all its chunks.</p></div><div lang="zh-CN"><p>分块驱动用于将大文件拆分为多个文件块，每个文件块以一个独立文件的形式存储在后端驱动上。</p><p>每个文件块的大小可由用户手动设定，除了每个文件的最后一个文件块的大小小于该设定值外，其余文件块的大小总是等于该设定值。</p><p>被分块的文件会以文件夹的形式存在于后端驱动上，文件夹内是该文件的所有分块。</p></div><figure><img src="/OpenList-Docs/img/drivers/chunk/example.png" alt="chunk_example" loading="lazy" decoding="async"></figure><h2 lang="en" id="setup-instructions" tabindex="-1">Setup Instructions <a class="header-anchor" href="#setup-instructions" aria-label="Permalink to &quot;Setup Instructions { lang=&quot;en&quot; }&quot;">​</a></h2><h2 lang="zh-CN" id="配置说明" tabindex="-1">配置说明 <a class="header-anchor" href="#配置说明" aria-label="Permalink to &quot;配置说明 { lang=&quot;zh-CN&quot; }&quot;">​</a></h2><div lang="en"><ul><li><strong>Remote path:</strong> The real storage path of the chunked files. This path must be the root path or a subpath of another driver.</li><li><strong>Part size:</strong> Maximum chunk size / Size of chunks except the last, in bytes.</li><li><strong>Chunk large file only:</strong> Whether to only chunk files larger than Part size.<ul><li>When disabled: <img src="/OpenList-Docs/img/drivers/chunk/chunk_large_only_disabled.png" alt="chunk_large_only_disabled"></li><li>When enabled: <img src="/OpenList-Docs/img/drivers/chunk/chunk_large_only_enabled.png" alt="chunk_large_only_enabled"></li></ul></li><li><strong>Chunk prefix:</strong> The prefix for the names of chunk folders stored on the backend driver, representing a chunked file. This is used to identify whether a folder is a regular folder or a chunked file storing folder, and therefore cannot be empty.</li><li><strong>Custom ext:</strong> Custom suffix for chunk names, used to bypass limitations of certain drivers.<ul><li>When left empty:<img src="/OpenList-Docs/img/drivers/chunk/custom_ext_disabled.png" alt="custom_ext_disabled"></li><li>When setting to <code>.jpg</code>:<img src="/OpenList-Docs/img/drivers/chunk/custom_ext_enabled.png" alt="custom_ext_enabled"></li></ul></li></ul><div class="warning custom-block"><p class="custom-block-title"><i class="icon i-carbon-warning-alt"></i>TIP</p><p>Once the driver is created, Custom ext should not be modified again, otherwise previously uploaded chunked files will become unrecognizable.</p><p>If modification is necessary, you must manually change the suffix of all chunks on the backend driver afterward.</p></div></div><div lang="en"><ul><li><strong>Store hash:</strong> Whether to store the hashes of chunked files in the chunk folder as well. This feature does not actively compute hashes; it only stores the hashes that the file already carries when uploading.</li><li><strong>Num list workers:</strong> When handling <code>List</code> requests, if a folder contains chunk folders, it is necessary to further list those chunk folders to retrieve information such as file size and hash value. Using multiple threads can speed up this process. A higher number of threads consumes more CPU and bandwidth resources but also increases speed. It is recommended to be disabled (set to 1) when the backend driver has API rate limiting.</li></ul></div><div lang="zh-CN"><ul><li><strong>远程存储路径：</strong> 分块后文件的真实存储路径，该路径必须是其它驱动的根路径或子路径。</li><li><strong>分块大小：</strong> 文件块的最大大小 / 除最后一个文件块外文件块的大小，单位：字节。</li><li><strong>仅对大文件分块：</strong> 是否仅对大于或等于“分块大小”的文件进行分块。<ul><li>关闭时： <img src="/OpenList-Docs/img/drivers/chunk/chunk_large_only_disabled.png" alt="chunk_large_only_disabled"></li><li>开启时： <img src="/OpenList-Docs/img/drivers/chunk/chunk_large_only_enabled.png" alt="chunk_large_only_enabled"></li></ul></li><li><strong>分块前缀：</strong> 存储在后端驱动上，表示一个被分块文件的分块文件夹名称的前缀。此为分块驱动判断一个文件夹是一个正常的文件夹还是一个被分块文件的依据，因此不能为空。</li><li><strong>自定义扩展名：</strong> 自定义文件块名称后缀，用于绕过某些驱动的限制：<ul><li>设置为空（默认值）： <img src="/OpenList-Docs/img/drivers/chunk/custom_ext_disabled.png" alt="custom_ext_disabled"></li><li>设置为<code>.jpg</code>： <img src="/OpenList-Docs/img/drivers/chunk/custom_ext_enabled.png" alt="custom_ext_enabled"></li></ul></li></ul><div class="warning custom-block"><p class="custom-block-title"><i class="icon i-carbon-warning-alt"></i>提示</p><p>驱动创建完毕后，不应再修改自定义扩展名，否则之前上传的分块文件将无法识别。</p><p>如必须修改，修改后需要在后端驱动手动修改所有文件块的后缀名。</p></div></div><div lang="zh-CN"><ul><li><strong>存储哈希值：</strong> 是否在分块文件夹中同时存储完整文件的哈希值。 该功能不会主动计算文件的哈希值，只会存储文件在上传时就已经携带的哈希值。</li><li><strong>列举分块文件夹线程数：</strong> 处理<code>List</code>请求时，如果文件夹中有分块文件夹，需要继续列举分块文件夹以获取文件大小、哈希值等信息，此时使用多线程可以加速这一过程。线程数越大，消耗 CPU 和带宽资源越多，速度越快。后端驱动具有 API 限速时建议关闭（设为1）。</li></ul></div><h2 lang="en" id="use-in-combination-with-crypt" tabindex="-1">Use in combination with Crypt <a class="header-anchor" href="#use-in-combination-with-crypt" aria-label="Permalink to &quot;Use in combination with Crypt { lang=&quot;en&quot; }&quot;">​</a></h2><h2 lang="zh-CN" id="与-crypt-结合使用" tabindex="-1">与 Crypt 结合使用 <a class="header-anchor" href="#与-crypt-结合使用" aria-label="Permalink to &quot;与 Crypt 结合使用 { lang=&quot;zh-CN&quot; }&quot;">​</a></h2><div lang="en"><p>If you need to both chunk and encrypt files, it is recommended to <strong>encrypt first, then chunk</strong>. Specifically, set Remote path of the <a href="/guide/drivers/crypt">Crypt</a> driver to the mount path of the <strong>Chunk</strong> driver, and set Remote path of the <strong>Chunk</strong> driver to the actual storage path of the files.</p><ul><li>Best practice:</li></ul><div class="mermaid"></div><ul><li>Bad practice:</li></ul><div class="mermaid"></div><p><strong>Reason</strong>: The bad practice involves storing a series of encryption metadata in each file chunk, which consumes more space. It also fails to guarantee that the chunks adhere to the user-specified maximum size, thereby undermining the purpose of file chunking.</p><p>To perform emergency recovery on an encrypted file chunked according to the best practice, you simply need to concatenate all the chunks in order and then proceed with recovery.</p></div><div lang="zh-CN"><p>如果既需要对文件进行分块，又需要对文件进行加密，推荐<strong>先加密后分块</strong>，即将 <a href="/guide/drivers/crypt">Crypt</a> 驱动的远程存储路径设为<strong>分块</strong>驱动的挂载路径，将<strong>分块</strong>驱动的远程存储路径设为文件真实存储路径。</p><ul><li>正确实践：</li></ul><div class="mermaid"></div><ul><li>错误实践：</li></ul><div class="mermaid"></div><p><strong>原因</strong>：错误实践的这种做法在每个文件块中都存储了一系列加密元信息，占用空间更多，也不能保证文件块具有用户给定的最大大小，失去了对文件分块的意义。</p><p>如果需要紧急恢复按推荐做法分块的加密文件，只需要按顺序直接拼接所有分块，再进行恢复即可。</p></div><h2 lang="en" id="use-in-combination-with-alias" tabindex="-1">Use in combination with Alias <a class="header-anchor" href="#use-in-combination-with-alias" aria-label="Permalink to &quot;Use in combination with Alias { lang=&quot;en&quot; }&quot;">​</a></h2><h2 lang="zh-CN" id="与别名结合使用" tabindex="-1">与别名结合使用 <a class="header-anchor" href="#与别名结合使用" aria-label="Permalink to &quot;与别名结合使用 { lang=&quot;zh-CN&quot; }&quot;">​</a></h2><div lang="en"><p>If you need to store chunked files across multiple load-balanced drivers, you can combine this with the <a href="/guide/drivers/alias">Alias</a> driver. For details, refer to <a href="/guide/advanced/balance#load-balancing-by-file-chunks">Load Balancing / Load balancing by file chunks</a>.</p><p>It’s important to note that, unlike the approach used with Crypt, when combining with Alias, the process should be <strong>chunk first, then load balance</strong>. This means setting the Remote path of the <strong>Chunk</strong> driver to the mount path of the <strong>Alias</strong> driver, and setting the paths within the <strong>Alias</strong> driver to the actual file storage paths.</p><ul><li>Best Practice:</li></ul><div class="mermaid"></div><ul><li>Bad Practice:</li></ul><div class="mermaid"></div></div><div lang="zh-CN"><p>如果需要将分块后的文件在多个负载均衡驱动上存储，可以与<a href="/guide/drivers/alias">别名</a>结合使用，详见<a href="/guide/advanced/balance#按文件块负载均衡">负载均衡 / 按文件块负载均衡</a>。</p><p>需要注意的是，与结合 Crypt 使用的方案不同，与别名结合使用时，应<strong>先分块后负载均衡</strong>，即将<strong>分块</strong>驱动的远程存储路径设为<strong>别名</strong>驱动的挂载路径，将<strong>别名</strong>驱动的路径设为文件真实存储路径。</p><ul><li>正确实践：</li></ul><div class="mermaid"></div><ul><li>错误实践：</li></ul><div class="mermaid"></div></div><!--]--><!--[--><!--[--><div class="prose mx-auto w-full max-w-4xl" data-v-e8057d2d><h2 data-v-e8057d2d><span data-v-e8057d2d>Contributors</span></h2><ul class="va-git-log-contributor" flex="~ wrap gap-2" pt-2 data-v-e8057d2d data-v-eaebaeab><!--[--><!--]--></ul><div class="comments-container" data-v-e8057d2d><!----></div></div><!--]--><!--]--><!--]--><!----><!----></article><!--[--><!--]--><div flex justify="between" text="sm" class="pb-8 max-w-4xl" w="full" m="auto" data-v-b457700c><a flex items="center" class="decoration-none!" href="https://github.com/OpenListTeam/OpenList-Docs/edit/main/pages/guide/drivers/chunk.md" target="_blank"><div i-ri-external-link-line></div><span ml-1>Edit this page on GitHub</span></a><p class="press-lastUpdated text-right" data-v-92db0407>Last updated: <time datetime="2025-12-29T09:16:11.000Z" data-v-92db0407></time></p></div><!--]--></div><!--[--><!--]--><!--[--><!--]--><!--[--><!--]--><!--[--><!--]--><!--[--><!--]--><!--]--><!--[--><!--[--><button class="toc-btn shadow-lg fixed press-icon-btn z-99 lt-md:hidden! xl:hidden!" right="5" bottom="24"><div i-ri-file-list-line></div></button><!----><aside flex="~ col grow" p="l-0 xl:l-8" text="center" z="$" class="press-aside lt-xl:fixed shadow xl:shadow-none xl:hover:shadow-none hover:shadow-lg"><div class="aside-curtain"></div><div class="aside-container lt-xl:fixed" flex="~ col"><div class="aside-content overflow-auto" flex="~ col"><div style="display:none" data-v-b3b664e2><div class="content" data-v-b3b664e2><div class="outline-title" data-v-b3b664e2>On this page</div><div class="outline-marker" data-v-b3b664e2></div><nav aria-labelledby="doc-outline-aria-label" data-v-b3b664e2><span id="doc-outline-aria-label" class="visually-hidden" data-v-b3b664e2>Table of Contents for current page</span><ul class="root va-toc css-i18n-toc va-toc relative z-1 css-i18n-toc" data-v-b3b664e2 data-v-e1d3fac6><!--[--><!--]--></ul></nav></div></div><div class="flex-grow"></div><!----></div></div></aside><!--]--><!--]--></div></div></main><button style="display:none" class="back-to-top-btn" aria-label="Back to Top" title="Back to Top" data-v-e8057d2d data-v-ef99e711><div class="i-ri-arrow-up-line" data-v-ef99e711></div></button><!--]--><footer class="press-footer has-sidebar" data-v-3467cded><div flex="~ col" class="container" data-v-3467cded><p class="message" data-v-3467cded>Built at 2026/2/3 07:10:19</p><p class="copyright" data-v-3467cded>AGPL-3.0 Licensed | © 2022-2026 <a href="https://github.com/OpenListTeam" target="_blank">The OpenList Projects Contributors</a></p></div></footer></div><!--]--></div><script>window.__INITIAL_STATE__='{"pinia":{"app":{"showLoading":true},"routerStore":{},"press-app":{}}}'</script><script type="application/ld+json" data-hid="schema-org-graph">{"@context":"https://schema.org","@graph":[{"@id":"https://dezhishen.github.io/#identity","@type":"Person","name":"OpenList Team","url":"https://dezhishen.github.io/","image":{"@id":"https://dezhishen.github.io/#/schema/image/5231f5b"},"sameAs":[]},{"@id":"https://dezhishen.github.io/#website","@type":"WebSite","dateModified":"2026-02-03T07:10:05.328Z","datePublished":"2026-02-03T07:10:05.328Z","inLanguage":"en","name":"Chunk","url":"https://dezhishen.github.io/","publisher":{"@id":"https://dezhishen.github.io/#identity"}},{"@id":"https://dezhishen.github.io/#webpage","@type":"WebPage","description":"Documentation site for OpenList","name":"Chunk","url":"https://dezhishen.github.io/","about":{"@id":"https://dezhishen.github.io/#identity"},"isPartOf":{"@id":"https://dezhishen.github.io/#website"},"potentialAction":[{"@type":"ReadAction","target":["https://dezhishen.github.io/"]}]},{"@id":"https://dezhishen.github.io/#/schema/image/5231f5b","@type":"ImageObject","contentUrl":"https://dezhishen.github.io/logo.svg","inLanguage":"en","url":"https://dezhishen.github.io/logo.svg"}]}</script></body></html>