<!DOCTYPE html><html lang="en" data-beasties-container><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon.svg"><script>!function(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><style type="text/css">:root{color-scheme:light dark;--va-c-bg:#fff}html{background-color:var(--va-c-bg)}</style><script>const locale=localStorage.getItem("valaxy-locale")||"en";document.documentElement.setAttribute("lang",locale)</script><script type="module" async crossorigin src="/OpenList-Docs/assets/app.CgKpqO4s.js"></script><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/framework.Bz32nx7L.js"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunks/dayjs.BX5x0S-s.js"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunks/nprogress.B1y48mDD.js"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunks/vue-router.BHVBbDd3.js"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunks/vue-i18n.D51u75hK.js"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/chunks/pinia.Bgqu1Nyu.js"><link rel="stylesheet" crossorigin href="/OpenList-Docs/assets/app.D_kjg8EC.css"><link rel="stylesheet" crossorigin href="/OpenList-Docs/assets/group-icons.u5l6rBQ6.css"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/balance.Bk5kyQzp.js"><link rel="stylesheet" href="/OpenList-Docs/assets/group-icons.u5l6rBQ6.css"><link rel="modulepreload" crossorigin href="/OpenList-Docs/assets/ValaxyMain.Bu8drCa_.js"><link rel="stylesheet" href="/OpenList-Docs/assets/ValaxyMain.Cny4s0wM.css"><title>Load balancing - OpenList Docs</title><script id="check-mac-os" async>document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><meta property="og:locale:alternate" content="zh-CN"><meta name="description" content="Documentation site for OpenList"><meta property="og:description" content="Documentation site for OpenList"><meta property="og:locale" content="en"><meta property="og:site_name" content="OpenList Docs"><meta property="og:title" content="Load balancing"><meta property="og:image" content="/favicon.svg"><meta property="og:type" content="website"><meta property="og:url" content="https://dezhishen.github.io/"><link rel="icon" href="/favicon.svg" type="image/svg+xml"><meta name="generator" content="Valaxy 0.25.9"><meta name="twitter:card" content="summary_large_image"></head><body><div id="app" data-server-rendered="true"><!--[--><!--[--><!----><!--[--><!--]--><!----><!--]--><div class="layout antialiased" data-v-e8057d2d><nav w="full" class="press-nav relative md:fixed md:z-99 font-bold"><div class="pr-navbar flex justify-between items-center pl-4 pr-2 has-sidebar"><a href="/OpenList-Docs/" class="text-xl flex justify-center items-center font-black gradient-text from-teal-200 to-sky-400 bg-gradient-to-r" aria-label="$locale:siteConfig.title"><img class="logo" src="OpenList-Docs/logo.svg" alt="LOGO"><span class="inline-flex">OpenList Docs</span></a><div class="self-stretch flex justify-center items-center text-sm leading-5"><div class="VPNavBarSearch" p="x-2"><!----></div><div class="flex lt-md:hidden" h="full" p="x-2"><!--[--><!--[--><a href="/OpenList-Docs/guide" class="router-link-active press-nav-item-link flex justify-center items-center px-2" rel="noopener" data-v-32160185><!--[-->User Guide<!--]--></a><!--]--><!--[--><a href="/OpenList-Docs/configuration" class="press-nav-item-link flex justify-center items-center px-2" rel="noopener" data-v-32160185><!--[-->Configuration<!--]--></a><!--]--><!--[--><a href="/OpenList-Docs/faq" class="press-nav-item-link flex justify-center items-center px-2" rel="noopener" data-v-32160185><!--[-->FAQ<!--]--></a><!--]--><!--[--><a href="/OpenList-Docs/ecosystem" class="press-nav-item-link flex justify-center items-center px-2" rel="noopener" data-v-32160185><!--[-->Ecosystem<!--]--></a><!--]--><!--[--><div class="flex relative group px-2" h="full" aria-expanded="false" aria-haspopup="true" data-v-b7b2ac8b><button type="button" class="button flex items-center bg-transparent" h="full" data-v-b7b2ac8b><span class="text" data-v-b7b2ac8b>Community</span><div i-ri-arrow-drop-down-line data-v-b7b2ac8b></div></button><div class="menu grow" flex="~ col" items="start" data-v-b7b2ac8b><!--[--><!--[--><div class="menu-link w-full" data-v-b7b2ac8b data-v-8b5a856b><a class="menu-item" p="x-3" href="https://github.com/OpenListTeam/OpenList/discussions" target="_blank" data-v-8b5a856b><!--[-->Github Discussions<!--]--><!----></a></div><!--]--><!--[--><div class="menu-link w-full" data-v-b7b2ac8b data-v-8b5a856b><a class="menu-item" p="x-3" href="https://t.me/OpenListTeam" target="_blank" data-v-8b5a856b><!--[-->Telegram<!--]--><!----></a></div><!--]--><!--[--><div class="menu-link w-full" data-v-b7b2ac8b data-v-8b5a856b><a class="menu-item" p="x-3" href="https://t.me/OpenListOfficial" target="_blank" data-v-8b5a856b><!--[-->Telegram Channel<!--]--><!----></a></div><!--]--><!--]--></div></div><!--]--><!--[--><div class="flex relative group px-2" h="full" aria-expanded="false" aria-haspopup="true" data-v-b7b2ac8b><button type="button" class="button flex items-center bg-transparent" h="full" data-v-b7b2ac8b><span class="text" data-v-b7b2ac8b>v4.1.10</span><div i-ri-arrow-drop-down-line data-v-b7b2ac8b></div></button><div class="menu grow" flex="~ col" items="start" data-v-b7b2ac8b><!--[--><!--[--><div class="menu-link w-full" data-v-b7b2ac8b data-v-8b5a856b><a class="menu-item" p="x-3" href="https://github.com/OpenListTeam/OpenList/releases" target="_blank" data-v-8b5a856b><!--[-->Release Notes<!--]--><!----></a></div><!--]--><!--]--></div></div><!--]--><!--]--></div><div class="flex items-center lt-lg:hidden" p="x-2"><button title="Change languages"><div i-ri-translate class="rotate-y-180 transition transform"></div></button></div><div class="inline-flex items-center lt-lg:hidden" p="x-2"><button class="switch switch-appearance" type="button" aria-label="Toggle Dark Mode" data-v-a2d66f27><span class="check" data-v-a2d66f27><span class="icon-wrap" data-v-a2d66f27><div class="icon" i-ri-sun-line data-v-a2d66f27></div></span></span></button></div><div class="pr-social-links pr-nav-bar-social-links" p="x-2" data-v-c9cfc92a data-v-326fa6b8><!--[--><a class="pr-social-link" href="https://github.com/OpenListTeam/OpenList" target="_blank" rel="noopener" data-v-326fa6b8 data-v-23187a05><div class="i-ri-github-line" data-v-23187a05></div></a><!--]--></div><button type="button" class="pr-NavBarHamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="pr-NavScreen" data-v-ac56a236><span class="container" data-v-ac56a236><span class="top" data-v-ac56a236></span><span class="middle" data-v-ac56a236></span><span class="bottom" data-v-ac56a236></span></span></button></div></div><!----></nav><div class="press-local-nav" data-v-00f00fd6><button class="menu" aria-expanded="false" aria-controls="pr-sidebar-nav" data-v-00f00fd6><div i-ri-align-left class="menu-icon" data-v-00f00fd6></div><span class="menu-text" data-v-00f00fd6>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px" data-v-00f00fd6 data-v-2bc5b49f><button data-v-2bc5b49f>Return to top</button><!----></div></div><!--[--><aside class="press-sidebar shadow-lg"><div text="left" m="2"><!--[--><ul class="category-list"><!--[--><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">User Guide <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/guide" class="router-link-active inline-flex items-center"><span class="text ml-1" text="sm">Quick Start</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/guide/migrate" class="inline-flex items-center"><span class="text ml-1" text="sm">Migrate from AList V3</span></a><!--]--></li><li class="post-list-item"><!--[--></li><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Storage Setup <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-add-line></div></button></li><!----><!--]--><li class="post-list-item"><!--[--></li><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Advanced <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-add-line></div></button></li><!----><!--]--><li class="post-list-item"><!--[--></li><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Installation <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-add-line></div></button></li><!----><!--]--><!--]--></ul><!--]--></ul><ul class="category-list"><!--[--><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Configuration <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/configuration" class="inline-flex items-center"><span class="text ml-1" text="sm">Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/site" class="inline-flex items-center"><span class="text ml-1" text="sm">Site Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/style" class="inline-flex items-center"><span class="text ml-1" text="sm">Style Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/preview" class="inline-flex items-center"><span class="text ml-1" text="sm">Preview Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/global" class="inline-flex items-center"><span class="text ml-1" text="sm">Global Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/other" class="inline-flex items-center"><span class="text ml-1" text="sm">Other Configuration</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/configuration/side" class="inline-flex items-center"><span class="text ml-1" text="sm">Side Configuration</span></a><!--]--></li><!--]--></ul><!--]--></ul><ul class="category-list"><!--[--><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">FAQ <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/faq/error" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Error-Code</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/faq/howto" class="inline-flex items-center"><span class="text ml-1" text="sm">How to</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/faq/seealso" class="inline-flex items-center"><span class="text ml-1" text="sm">See also</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/faq/why" class="inline-flex items-center"><span class="text ml-1" text="sm">Why</span></a><!--]--></li><!--]--></ul><!--]--></ul><ul class="category-list"><!--[--><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">API Documentation <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/api/apidocs" class="inline-flex items-center"><span class="text ml-1" text="sm">API Documentation</span></a><!--]--></li><!--]--></ul><!--]--></ul><ul class="category-list"><!----></ul><ul class="category-list"><!--[--><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Ecosystem <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Ecosystem</span></a><!--]--></li><li class="post-list-item"><!--[--></li><li p="t-2" w="full" border="t t-$pr-c-divider-light" class="press-sidebar-item category-list-item inline-flex items-center justify-between" text-14px tabindex="0"><span class="category-name" font="bold" m="l-1">Official Ecosystem <!-- <sup font="normal">[{{ category.total }}]</sup> --></span><button tabindex="0" role="button" aria-label="toggle section" class="caret folder-action inline-flex cursor-pointer" text-base><div i-ri-folder-reduce-line></div></button></li><ul><!--[--><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem/official_docs" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Docs</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem/official_desktop" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Desktop</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem/official_mobile" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Mobile</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem/official_APIpage" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList APIPages</span></a><!--]--></li><li class="post-list-item"><!--[--><a href="/OpenList-Docs/ecosystem/official_proxy" class="inline-flex items-center"><span class="text ml-1" text="sm">OpenList Proxy</span></a><!--]--></li><!--]--></ul><!--]--><!--]--></ul><!--]--></ul><!--]--></div></aside><!--]--><!----><!--[--><main class="press-main flex has-sidebar" data-v-e8057d2d data-v-b457700c><div w="full" flex="~" class="px-6 md:pl-12 has-aside relative" p="t-4" data-v-b457700c><div class="container" flex="~ grow" justify="between" data-v-b457700c><!--[--><div w="full" class="vp-doc content" flex="~ col grow" p="lt-md:0" data-v-b457700c><!--[--><!--]--><!--[--><!--]--><!--[--><!--[--><!--]--><article class="markdown-body mx-auto w-full max-w-4xl" data-v-b457700c><!--[--><h1 id="Load balancing" tabindex="-1" data-v-b457700c>Load balancing <a class="header-anchor" href="#Load balancing" aria-hidden="true" data-v-b457700c></a></h1><!--[--><h2 lang="en" id="link-load-balancing" tabindex="-1">Link load balancing <a class="header-anchor" href="#link-load-balancing" aria-label="Permalink to &quot;Link load balancing { lang=&quot;en&quot; }&quot;">​</a></h2><h2 lang="zh-CN" id="链路负载均衡" tabindex="-1">链路负载均衡 <a class="header-anchor" href="#链路负载均衡" aria-label="Permalink to &quot;链路负载均衡 { lang=&quot;zh-CN&quot; }&quot;">​</a></h2><div lang="en"><p>Link load balancing distributes traffic across multiple links to alleviate bandwidth pressure on any single link. This load balancing mechanism is only applicable when traffic arrives at the same storage service via multiple distinct links. The system assumes that the drivers participating in the load balancing can always automatically maintain content consistency and will simply forward all requests in a round-robin manner:</p><div class="mermaid"></div><p>To perform this load balancing mechanism, mount the first driver normally, and then add the remaining load-balancing drivers using a mount path formatted as <code>first storage mount path + .balance + any additional content</code>.</p><p>E.g:</p><ul><li>Storage 1: <code>test</code></li><li>Storage 2: <code>test.balance1</code></li><li>Storage 3: <code>test.balance2</code></li><li>Storage 4: <code>test.balance3</code></li><li>…</li><li>Storage n: <code>test.balancen</code></li></ul><p><img src="/OpenList-Docs/img/advanced/balance.png" alt> The first is marked with a red box. It is the main mount, which is displayed on the front page. The remaining nine are the first load balancing on the first one.</p></div><div lang="zh-CN"><p>链路负载均衡用于在多条链路上分担流量，以减轻单条链路的带宽压力。这种负载均衡机制仅用于流量从多条不同的链路抵达同一个存储服务的情况，系统将假定参与负载均衡的驱动总能自动保持内容一致，并简单地轮询转发所有请求：</p><div class="mermaid"></div><p>要使用这种负载均衡机制，请正常挂载第一个驱动，其余负载均衡驱动以<code>第一个存储挂载路径 + .balance + 任何其他内容</code>为挂载路径添加。</p><p>例如：</p><ul><li>存储1：<code>test</code></li><li>存储2：<code>test.balance1</code></li><li>存储3：<code>test.balance2</code></li><li>存储4：<code>test.balance3</code></li><li>…</li><li>存储n：<code>test.balancen</code></li></ul><p><img src="/OpenList-Docs/img/advanced/balance.png" alt> 第一个带红框标记的为主挂载，也就是在前端页面显示的，后面剩下的九个就是对第一个进行负载均衡。</p></div><h2 lang="en" id="storage-load-balancing" tabindex="-1">Storage load balancing <a class="header-anchor" href="#storage-load-balancing" aria-label="Permalink to &quot;Storage load balancing { lang=&quot;en&quot; }&quot;">​</a></h2><h2 lang="zh-CN" id="存储负载均衡" tabindex="-1">存储负载均衡 <a class="header-anchor" href="#存储负载均衡" aria-label="Permalink to &quot;存储负载均衡 { lang=&quot;zh-CN&quot; }&quot;">​</a></h2><div lang="en"><p>Storage Load Balancing is used to distribute storage occupancy across multiple storage services, achieving the effect of abstracting multiple storage spaces into one large storage space with a capacity equal to the sum of all individual spaces (similar to RAID 0). The system will assign each uploaded file to a random storage service and forward all read and modification requests for that file to that specific service:</p><div class="mermaid"></div><p>This type of load balancing can be implemented using the putting load balancing feature of the <a href="/guide/drivers/alias">Alias</a> driver, with the following configuration:</p><ul><li><strong>Reading conflict policy</strong>: <strong>Get the file corresponding to the first conflict path</strong> (The load balancing function of the Rading conflict policy is used to implement the load balancing described in the <a href="/guide/advanced/balance#multi-source-reading-load-balancing">Multi-source reading load balancing</a> section. Based on the principles of the two load balancing schemes, enabling both simultaneously does not achieve a 1+1&gt;=2 effect).</li><li><strong>Writing conflict policy</strong>: Choose either <strong>Allow full conflict paths</strong> or <strong>Write into all conflict paths</strong> (If the <strong>Write into the first conflict path</strong> policy is used, folder creation operations will only be forwarded to one driver. This will cause that folder and its descendant folders to be unable to continue load balancing as they won’t exist on other drivers).</li><li><strong>Putting conflict policy</strong>: Choose one of <strong>Random load balancing</strong>, <strong>Weighted random load balancing based on remaining space</strong>, or <strong>Strict weighted random load balancing based on remaining space</strong> according to your needs.</li></ul><p>The effect achieved with the above configuration:</p><div class="mermaid"></div></div><div lang="zh-CN"><p>存储负载均衡用于在多个存储服务上分担空间占用，实现多个存储空间抽象为一个容量为所有存储空间之和的大存储空间的效果（类似于 RAID 0），系统将为每个上传的文件分配一个随机的存储服务，并将对于该文件的读取和修改请求全部转发到这个存储服务上：</p><div class="mermaid"></div><p>利用<a href="/guide/drivers/alias">别名</a>驱动的上传负载均衡功能可以实现此类负载均衡，配置如下：</p><ul><li>读取冲突策略：<strong>读取首个有效路径</strong>（读取冲突策略的负载均衡功能用于实现<a href="/guide/advanced/balance#多源读取负载均衡">多源读取负载均衡</a>章节的负载均衡功能，按照两种负载均衡方案的原理，同时开启两种负载均衡功能并不能实现1+1&gt;=2的效果）。</li><li>写入冲突策略：<strong>仅允许全冲突路径</strong>和<strong>写入所有有效路径</strong>二选一（如果使用<strong>写入首个有效路径</strong>策略，创建文件夹操作将会仅被转发到一个驱动上，这将导致该文件夹及其子孙文件夹由于不存在于其它驱动上，而无法继续负载均衡）。</li><li>上传冲突策略：<strong>随机负载均衡</strong>、<strong>按容量加权随机负载均衡</strong>和<strong>严格按容量加权随机负载均衡</strong>按照需求三选一。</li></ul><p>以上配置实现的效果：</p><div class="mermaid"></div></div><h4 lang="en" id="load-balancing-by-file-chunks" tabindex="-1">Load balancing by file chunks <a class="header-anchor" href="#load-balancing-by-file-chunks" aria-label="Permalink to &quot;Load balancing by file chunks { lang=&quot;en&quot; }&quot;">​</a></h4><h4 lang="zh-CN" id="按文件块负载均衡" tabindex="-1">按文件块负载均衡 <a class="header-anchor" href="#按文件块负载均衡" aria-label="Permalink to &quot;按文件块负载均衡 { lang=&quot;zh-CN&quot; }&quot;">​</a></h4><div lang="en"><p>Sometimes, the files that need to be load-balanced across storage are relatively large, and performing load balancing on a per-file basis is not granular enough. You can use the <a href="/guide/drivers/chunk">Chunk</a> driver to split files into fixed-size blocks and then apply storage load balancing to these blocks. The specific configuration is as follows:</p><ul><li><strong>Chunk</strong>: In the remote path, fill in the mount path of the <strong>Alias</strong> driver. Configure other settings as needed.</li><li><strong>Alias</strong>: Keep the configuration consistent with the description above.</li></ul><p>The achieved effect is:</p><div class="mermaid"></div></div><div lang="zh-CN"><p>有时需要被负载均衡存储的文件比较大，以文件为单位进行负载均衡颗粒度不够细，可以使用<a href="/guide/drivers/chunk">分块</a>驱动将文件划分为固定大小的文件块，再对文件块进行存储负载均衡，具体配置如下：</p><ul><li>分块：远程路径填写<strong>别名</strong>驱动的挂载路径，其它配置项按需填写。</li><li>别名：与上文一致。</li></ul><p>实现的效果为：</p><div class="mermaid"></div></div><h2 lang="en" id="multi-source-reading-load-balancing" tabindex="-1">Multi-source reading load balancing <a class="header-anchor" href="#multi-source-reading-load-balancing" aria-label="Permalink to &quot;Multi-source reading load balancing { lang=&quot;en&quot; }&quot;">​</a></h2><h2 lang="zh-CN" id="多源读取负载均衡" tabindex="-1">多源读取负载均衡 <a class="header-anchor" href="#多源读取负载均衡" aria-label="Permalink to &quot;多源读取负载均衡 { lang=&quot;zh-CN&quot; }&quot;">​</a></h2><div lang="en"><p>Multi-source reading load balancing allows copies of a file to be distributed across several different storage services. When a user accesses the file, the system randomly selects one of the copies to return, thereby reducing the uplink bandwidth pressure on any single storage service (similar to RAID 1). The key difference between this load balancing strategy and <a href="/guide/advanced/balance#link-load-balancing">Link load balancing</a> is that since the load-balanced storage services are treated as multiple, independent file systems with no automatic synchronization, OpenList will forward write operations to <strong>all</strong> storage services, rather than to just one of them:</p><div class="mermaid"></div><p>This type of load balancing can be implemented using the reading load balancing feature of the <a href="/guide/drivers/alias">Alias</a> driver, with the following configuration:</p><ul><li><strong>Reading conflict policy</strong>: Choose either <strong>Load balancing on a per-file basis</strong> or <strong>Load balancing on a per-part basis</strong>.</li><li><strong>Writing conflict policy</strong>: Choose either <strong>Allow full conflict paths</strong> or <strong>Write into all conflict paths</strong> (If the <strong>Write into the first conflict path</strong> policy is used, folder creation operations will be forwarded to only one driver. This will prevent that folder and its descendant folders from continuing to participate in load balancing, as they won’t exist on other drivers).</li><li><strong>Putting conflict policy</strong>: Choose either <strong>Allow full conflict paths</strong> or <strong>Put into all conflict paths</strong> (The load balancing function of the Putting conflict policy is used to implement the load balancing described in the <a href="/guide/advanced/balance#storage-load-balancing">Storage Load Balancing</a> section. Based on the principles of the two load balancing schemes, enabling both simultaneously does not achieve a 1+1&gt;=2 effect).</li></ul></div><div lang="zh-CN"><p>多源读取负载均衡可以将文件的副本分散在若干不同的存储服务上，当用户访问文件时，系统会随机选择其中一个文件返回，从而降低单个存储服务的上行带宽压力（类似于 RAID 1）。这种负载均衡策略与<a href="/guide/advanced/balance#链路负载均衡">链路负载均衡</a>的最大不同之处在于，由于负载均衡存储服务被视为多个没有关联，无法自动同步的文件系统，OpenList 将会向<strong>所有</strong>存储服务转发写入操作，而不是向其中一个转发：</p><div class="mermaid"></div><p>利用<a href="/guide/drivers/alias">别名</a>驱动的读取负载均衡功能可以实现此类负载均衡，配置如下：</p><ul><li>读取冲突策略：<strong>按文件负载均衡</strong>和<strong>按分片负载均衡</strong>二选一。</li><li>写入冲突策略：<strong>仅允许全冲突路径</strong>和<strong>写入所有有效路径</strong>二选一（如果使用<strong>写入首个有效路径</strong>策略，创建文件夹操作将会仅被转发到一个驱动上，这将导致该文件夹及其子孙文件夹由于不存在于其它驱动上，而无法继续负载均衡）。</li><li>上传冲突策略：<strong>仅允许全冲突路径</strong>和<strong>上传到所有有效路径</strong>二选一（上传冲突策略的负载均衡功能用于实现<a href="/guide/advanced/balance#存储负载均衡">存储负载均衡</a>章节的负载均衡功能，按照两种负载均衡方案的原理，同时开启两种负载均衡功能并不能实现1+1&gt;=2的效果）。</li></ul></div><!--]--><!--[--><!--[--><div class="prose mx-auto w-full max-w-4xl" data-v-e8057d2d><h2 data-v-e8057d2d><span data-v-e8057d2d>Contributors</span></h2><ul class="va-git-log-contributor" flex="~ wrap gap-2" pt-2 data-v-e8057d2d data-v-eaebaeab><!--[--><!--]--></ul><div class="comments-container" data-v-e8057d2d><!----></div></div><!--]--><!--]--><!--]--><!----><!----></article><!--[--><!--]--><div flex justify="between" text="sm" class="pb-8 max-w-4xl" w="full" m="auto" data-v-b457700c><a flex items="center" class="decoration-none!" href="https://github.com/OpenListTeam/OpenList-Docs/edit/main/pages/guide/advanced/balance.md" target="_blank"><div i-ri-external-link-line></div><span ml-1>Edit this page on GitHub</span></a><p class="press-lastUpdated text-right" data-v-92db0407>Last updated: <time datetime="2025-12-29T09:16:11.000Z" data-v-92db0407></time></p></div><!--]--></div><!--[--><!--]--><!--[--><!--]--><!--[--><!--]--><!--[--><!--]--><!--[--><!--]--><!--]--><!--[--><!--[--><button class="toc-btn shadow-lg fixed press-icon-btn z-99 lt-md:hidden! xl:hidden!" right="5" bottom="24"><div i-ri-file-list-line></div></button><!----><aside flex="~ col grow" p="l-0 xl:l-8" text="center" z="$" class="press-aside lt-xl:fixed shadow xl:shadow-none xl:hover:shadow-none hover:shadow-lg"><div class="aside-curtain"></div><div class="aside-container lt-xl:fixed" flex="~ col"><div class="aside-content overflow-auto" flex="~ col"><div style="display:none" data-v-b3b664e2><div class="content" data-v-b3b664e2><div class="outline-title" data-v-b3b664e2>On this page</div><div class="outline-marker" data-v-b3b664e2></div><nav aria-labelledby="doc-outline-aria-label" data-v-b3b664e2><span id="doc-outline-aria-label" class="visually-hidden" data-v-b3b664e2>Table of Contents for current page</span><ul class="root va-toc css-i18n-toc va-toc relative z-1 css-i18n-toc" data-v-b3b664e2 data-v-e1d3fac6><!--[--><!--]--></ul></nav></div></div><div class="flex-grow"></div><!----></div></div></aside><!--]--><!--]--></div></div></main><button style="display:none" class="back-to-top-btn" aria-label="Back to Top" title="Back to Top" data-v-e8057d2d data-v-ef99e711><div class="i-ri-arrow-up-line" data-v-ef99e711></div></button><!--]--><footer class="press-footer has-sidebar" data-v-3467cded><div flex="~ col" class="container" data-v-3467cded><p class="message" data-v-3467cded>Built at 2026/2/3 07:10:19</p><p class="copyright" data-v-3467cded>AGPL-3.0 Licensed | © 2022-2026 <a href="https://github.com/OpenListTeam" target="_blank">The OpenList Projects Contributors</a></p></div></footer></div><!--]--></div><script>window.__INITIAL_STATE__='{"pinia":{"app":{"showLoading":true},"routerStore":{},"press-app":{}}}'</script><script type="application/ld+json" data-hid="schema-org-graph">{"@context":"https://schema.org","@graph":[{"@id":"https://dezhishen.github.io/#identity","@type":"Person","name":"OpenList Team","url":"https://dezhishen.github.io/","image":{"@id":"https://dezhishen.github.io/#/schema/image/5231f5b"},"sameAs":[]},{"@id":"https://dezhishen.github.io/#website","@type":"WebSite","dateModified":"2026-02-03T07:10:05.325Z","datePublished":"2026-02-03T07:10:05.325Z","inLanguage":"en","name":"Load balancing","url":"https://dezhishen.github.io/","publisher":{"@id":"https://dezhishen.github.io/#identity"}},{"@id":"https://dezhishen.github.io/#webpage","@type":"WebPage","description":"Documentation site for OpenList","name":"Load balancing","url":"https://dezhishen.github.io/","about":{"@id":"https://dezhishen.github.io/#identity"},"isPartOf":{"@id":"https://dezhishen.github.io/#website"},"potentialAction":[{"@type":"ReadAction","target":["https://dezhishen.github.io/"]}]},{"@id":"https://dezhishen.github.io/#/schema/image/5231f5b","@type":"ImageObject","contentUrl":"https://dezhishen.github.io/logo.svg","inLanguage":"en","url":"https://dezhishen.github.io/logo.svg"}]}</script></body></html>